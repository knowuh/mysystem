<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <title>MySystem print</title>
  
  <link rel="icon" href="res/favicon.ico" type="image/png" />
  <link rel="SHORTCUT ICON" href="res/favicon.ico" type="image/png" />
  
  
  <!-- Raphael SVG lib: -->
  <script type="text/javascript" src="../lib/raphael-min.js"></script>
  <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
  <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.0/jquery-ui.min.js"></script>
            
  <!-- Utitlities -->
  <script type="text/javascript" src="js/MySystemUtil.js"></script>
  <script type="text/javascript" src="js/MySystemPrint.js"></script>  
  <script type="text/javascript" src="js/ds/GGearsDS.js"></script>    
</head>
<style type="text/css" media="screen">
  .headline {
    text-align: center;
    font: 18pt "Lucida Grande", "Trebuchet MS", Verdana, sans-serif;
  }
  #printing_canvas {
    text-align: center;
    margin: 1em;
    display: block;
    width: 100%;
    height: 500px;
    border: 1px dotted #999;
  }
  #big {
    text-align: center;
    margin: 1em;
    display: inline-block;
    width: 100px;
    height: 20px;
    padding: 1em;
    border: 1px dotted #999;
  }
  #little {
    text-align: center;
    margin: 1em;
    display: inline-block;
    width: 100px;
    height: 20px;
    padding: 1em;
    border: 1px dotted #999;
  }
</style>
<body>

  <script>
      var printer;
      $(document).ready(function() {
        $('#big').click( function(e) {
          $('#printing_canvas').width(500);
          $('#printing_canvas').height(500);
        });
        $('#little').click( function(e) {
          $('#printing_canvas').width(200);
          $('#printing_canvas').height(200);
        });
        var loadCallback = function(text,context) {
          var obj = eval(text);
          if (obj) {
            printer = new MySystemPrint(text,"printing_canvas");
          } 
        };
        var json_data = [{"containers": [{"terminals": [{"wireConfig": {"drawingMethod": "bezierArrows"}, "name": "Terminal1", "direction": [0, -1], "offsetPosition": {"left": 20, "top": -25}, "ddConfig": {"type": "input", "allowedTypes": ["input", "output"]}}, {"wireConfig": {"drawingMethod": "bezierArrows"}, "name": "Terminal2", "direction": [0, 1], "offsetPosition": {"left": 20, "bottom": -25}, "ddConfig": {"type": "output", "allowedTypes": ["input", "output"]}}], "draggable": true, "position": ["200px", "67px"], "className": "WireIt-Container WireIt-ImageContainer", "ddHandle": false, "ddHandleClassName": "WireIt-Container-ddhandle", "resizable": false, "resizeHandleClassName": "WireIt-Container-resizehandle", "close": true, "closeButtonClassName": "WireIt-Container-closebutton", "title": "table", "icon": "./images/thermodynamics/table.png", "preventSelfWiring": true, "image": "./images/thermodynamics/table.png", "xtype": "MySystemContainer", "fields": {"energy": 100, "form": "light", "efficiency": 1}, "name": "table", "has_sub": false}, {"terminals": [{"wireConfig": {"drawingMethod": "bezierArrows"}, "name": "Terminal1", "direction": [0, -1], "offsetPosition": {"left": 20, "top": -25}, "ddConfig": {"type": "input", "allowedTypes": ["input", "output"]}}, {"wireConfig": {"drawingMethod": "bezierArrows"}, "name": "Terminal2", "direction": [0, 1], "offsetPosition": {"left": 20, "bottom": -25}, "ddConfig": {"type": "output", "allowedTypes": ["input", "output"]}}], "draggable": true, "position": ["72px", "83px"], "className": "WireIt-Container WireIt-ImageContainer", "ddHandle": false, "ddHandleClassName": "WireIt-Container-ddhandle", "resizable": false, "resizeHandleClassName": "WireIt-Container-resizehandle", "close": true, "closeButtonClassName": "WireIt-Container-closebutton", "icon": "./images/thermodynamics/hotbowl.png", "preventSelfWiring": true, "image": "./images/thermodynamics/hotbowl.png", "xtype": "MySystemContainer", "fields": {"name": "hot bowl", "energy": 100, "form": "light", "efficiency": 1}, "name": "hot bowl", "has_sub": false}], "wires": [{"src": {"moduleId": 1, "terminal": "Terminal2"}, "tgt": {"moduleId": 0, "terminal": "Terminal2"}, "options": {"className": "WireIt-Wire", "coeffMulDirection": 100, "drawingMethod": "bezierArrows", "cap": "round", "bordercap": "round", "width": 5, "borderwidth": 1, "color": "#BD1550", "bordercolor": "#000000", "fields": {"name": "flow", "width": 5, "color": "color2"}, "selected": false}}]}];
        printer = new MySystemPrint(json_data,"printing_canvas");
      });
  </script>

  <div class="headline">printing canvas:</div>
  <div id="big"> click for large canvas </div>
  <div id="little"> click for small canvas </div>
  <hr/>
  <div id="printing_canvas"></div>
  

</body>
</html>
